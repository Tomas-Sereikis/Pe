!function(){function a(){if(this instanceof a==!1)throw new ReferenceError;this.stack=[],this.evaluations=[],this.queue=[],this.locked=!1}var b=this,c=function(a){if("function"!=typeof a)throw new TypeError},d=function(a,b,c){var d=!1,e={async:function(){return d=!0,c}};a.apply(e,b),d||c()},e=function(a){for(var b=[],c=0;c<this.stack.length;c++){var d=this.stack[c],e="undefined"==typeof d.process?-1:d.process;a>e&&(b.push({evaluation:this.evaluations[a],params:this.stack[c].params}),d.process=a)}return b},f=function(a){if(!this.isLocked())if(this.queue.length>0){this.locked=!0;var b=this.queue[0];if(b.length>0){var c=b.shift(),e=this;d(c.evaluation,c.params,function(){e.locked=!1,f.call(e,a)})}else this.queue.shift(),this.locked=!1,f.call(this,a)}else this.locked=!1,a()},g=function(a,b){return b.length>0?(a.push(b),!0):!1};a.prototype={push:function(a){a=Array.prototype.slice.call(arguments),this.stack.push({params:a});var b=!1;return this.evaluations.forEach(function(a,c){g(this.queue,e.call(this,c))&&(b=!0)},this),b&&f.call(this,function(){}),this},evaluate:function(a){c(a),this.evaluations.push(a);var b=this.evaluations.length-1;return g(this.queue,e.call(this,b))&&f.call(this,function(){}),this},isLocked:function(){return this.locked}};var h=b.Pe;b.Pe=a,b.Pe.noConflict=function(){return b.Pe=h,a}}();
//# sourceMappingURL=pe.min.js.map